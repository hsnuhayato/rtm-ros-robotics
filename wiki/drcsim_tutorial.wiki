#summary One-sentence summary of this page.

= Introduction =

drcsimの使い方です．


= Details =
                                          
* rosのインストール *

https://code.google.com/p/rtm-ros-robotics/wiki/ROS_Install

* drcsimのインストール *

http://gazebosim.org/wiki/DRC/Install をみて
{{{
sudo sh -c 'echo "deb http://packages.osrfoundation.org/drc/ubuntu precise main" > /etc/apt/sources.list.d/drc-latest.list'
wget http://packages.osrfoundation.org/drc.key -O - | sudo apt-key add -
sudo apt-get update
sudo apt-get install gazebo drcsim
}}}
としてインストールする．

~/.bashrcに以下を追記
{{{
export ROS_PACKAGE_PATH_ORG=$ROS_PACKAGE_PATH
source /usr/share/drcsim/setup.sh
export ROS_PACKAGE_PATH=$ROS_PACKAGE_PATH_ORG:$ROS_PACKAGE_PATH
export ROS_PACKAGE_PATH=`echo $(echo $ROS_PACKAGE_PATH | sed -e "s/:/\n/g" | awk '!($0 in A) && A[$0] = 1' | grep -v "opt/ros"; echo $ROS_PACKAGE_PATH | sed -e "s/:/\n/g" | awk '!($0 in A) && A[$0] = 1' | grep "opt/ros") | sed -e "s/ /:/g"`
}}}
ここまでで，セットアップ終わり


* 確認

{{{
roscd atlas_utils
# /usr/share/drcsim-2.4/ros/以下にあることを確認
rosmake atlas_utils
}}}

{{{
roscd hrpsys_gazeboで
# ~/ros/fuerte/rtm-ros-robotics/rtmros_common/以下にあることを確認
rosdep install hrpsys_gazebo
rosmake hrpsys_gazebo
}}}

* 実行

{{{
roslaunch hrpsys_gazebo atlas.launch
# これでgazeboのウィンドウが出る

# 別ターミナルで
roseus euslisp/atlas-interface.l
(atlas-init) 
# *ri*と*atlas*ができる
(objects (list *atlas*))
(send *atlas* :larm :shouler-y :joint-angle 100)
(send *ri* :angle-vector (send *atlas* :angle-vector) 1000)
# これで倒れる
}}}