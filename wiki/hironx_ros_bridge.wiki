#summary One-sentence summary of this page.

= インストール方法 =

http://ros.org/wiki/groovy/Installation/Ubuntu
を参考にrosをインストールして，次のコマンドを実行して下さい．

{{{
mkdir ros/groovy; cd ros/groovy
rosws init
rosws merge /opt/ros/groovy/.rosinstall
rosws merge http://rtm-ros-robotics.googlecode.com/svn/trunk/agentsystem_ros_tutorials/rtm-ros-robotics.rosinstall  
rosmake hironx_ros_bridge
}}}

= 使い方 =

== シミュレーション環境の立上げ ==

ソースからインストールした場合は
{{{
alias rtmlaunch='`rospack find hrpsys_ros_bridge`/scripts/rtmlaunch'
}}}
としたあと，
{{{
rtmlaunch hironx_ros_bridge hironx_ros_bridge_simulation.launch 
}}}
とします．このプログラムの中で，
{{{
    rtmlaunch hrionx_ros_bridge hironx_startup.launch
}}}
というシミュレーション環境の立ち上げ仮想ロボットを生成する作業と
{{{
    roslaunch hrionx_ros_bridge hironx_ros_bridge.launch
}}}
というhrpsysのrosブリッジを立ち上げる作業の２つを行います．
{{{
[ INFO] [1375160303.399785831, 483.554999999]: [HrpsysSeqStateROSBridge0] @onExecutece 0 is working at 201[Hz]
[ INFO] [1375160304.408500642, 484.544999999]: [HrpsysSeqStateROSBridge0] @onExecutece 0 is working at 198[Hz]
}}}
などと表示されれば成功です．

最後にrvizを使ってロボットを確認できます．
{{{
rosrun rviz rviz -d `rospack find hironx_ros_bridge`/models/kawada-hironx.rviz
}}}

=== 実機を利用している場合のRTMROSブリッジ環境の立上げ ===

実機を利用している環境では既にロボットのプログラム(hrpsys)は起動しているためhrpsys-rosブリッジだけを立ち上げて下さい．以下のようにしてロボットのホスト名を指定することができます．
{{{
roslaunch hironx_ros_bridge hironx_ros_bridge.launch nameserver:=<hostname> 
}}}

= プログラミング例 =
{{{
$ roscd hironx_ros_bridge/scripts
$ ./hironx.py
>> hiro.servoOn()
>> hiro.goInitial()
>> hiro.setJointAngles("larm", [0.6,0,-100,-15.2,9.4,-3.2])
}}}

実機の場合の立上げは以下のようにして下さい．
{{{
$ /hironx.py RobotHardware0  /opt/jsk/etc/HIRONX/model/main_15dof.wrl -- -ORBInitRef NameService=corbaloc:iiop:hiro014:2809/NameService
}}}

}}}