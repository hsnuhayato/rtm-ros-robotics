#summary RTM-ROS Integration

<wiki:toc max_depth="2" />

= OpenHRP 環境の構築 =

{{{
rosmake openhrp
}}}

した後，以下のeclipseの設定を行う必要がある．

== 外部プラグインのインストール for RT System Editor ==
{{{
rosrun openhrp3 eclipse.sh
}}}
で立ち上がるeclipseを用いる

 Help -> Install New Softare -> Add -> Location
に
(10.04ユーザのみ）
http://download.eclipse.org/modeling/emf/updates/releases/
を追加し、EMF SDK 2.5.0 を選択しインストール.

(10.04/10.10ユーザ共通)
http://download.eclipse.org/tools/gef/updates/releases/
を追加し、GEF SDK 3.6.2をS選択しインストール．

ここまででRT System Editorが入る
 Window -> Open Perspective -> Other 
で、RT System Editorが入っていることが確認できる

== 外部プラグイン並びにのJava環境のインストール for GRXUI ==

(10.04/10.10ユーザ共通)
http://sourceforge.net/projects/java3d-eclipse/files/
から[http://downloads.sourceforge.net/project/java3d-eclipse/java3declipse%20plugin/20090302/java3declipse-20090302.zip?r=http%3A%2F%2Fsourceforge.net%2Fprojects%2Fjava3d-eclipse%2Ffiles%2F&ts=1307526535&use_mirror=jaist java3declipse-20090302.zip]をダウンロードし、
Help -> Install New Softare -> Add -> Archive
で、ダウンロードしたzipを選択、すべてを選択し、インストールする。

ダウンロードしたzipを選択する際のパスに日本語が含まれる（デスクトップなど）と、
MESSAGE No repository found
と認識されないので、例えば/tmpにダウンロードするなどパスはすべて英数字になるところにする

{{{
$ java -version
}}}
で
Java(TM) SE 
という文字列が出てこない場合は、
{{{
$ sudo update-java-alternatives -s java-6-sun
}}}
とする

== OpenHRPのコンパイル ==
{{{
 make wipe; make
}}}
結構時間がかかる。

 == 困ったときは... ==

* LoadProjectでFallingBoxesを選択しても3DViewにモデルがでない。
{{{
 LD_LIBRARY_PATH=lib ./bin/openhrp-model-loader 
}}}
として
{{{
ready
}}}
がでているか確認。でていない場合は、
{{{
$ sudo /etc/init.d/omniorb4-nameserver stop
$ pkill -KILL omniNames
$ rtm-naming
}}}

* FallingBoxesのシミュレーションは表示されるけど、SampleRobot_inHouse.xmlをロードしてもロボットが表示されない場合、
{{{
$ sudo rm /usr/lib/eclipse/plugins/com.generalrobotix.ui.grxui_0.9.8.jar
$ roscd openrhp3; rm installed
$ make
}}}
