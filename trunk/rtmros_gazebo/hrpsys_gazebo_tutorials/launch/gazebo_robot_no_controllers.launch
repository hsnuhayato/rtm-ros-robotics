<launch>
  <arg name="gzname" default="gazebo"/>
  <arg name="WORLD" default="SampleRobot.world"/>
  <arg name="HRPSYS_GAZEBO_CONFIG" default="$(find hrpsys_gazebo_tutorials)/config/samplerobot.yaml" />
  <arg name="ROBOT_MODEL" default="$(find hrpsys_gazebo_tutorials)/robot_models/SampleRobot/SampleRobot.urdf" />
  <arg name="PAUSED" default="false"/>
  <arg name="SYNCHRONIZED" default="false" />

  <arg if="$(arg PAUSED)"
       name="paused" value="_paused" />
  <arg unless="$(arg PAUSED)"
       name="paused" value="" />

  <param name="/use_sim_time" type="bool" value="true"/>

  <!-- start gazebo with the hrpsys_gazebo -->
  <node name="gazebo" pkg="drcsim_gazebo" type="run_$(arg gzname)$(arg paused)" args="$(arg WORLD)" output="screen" />

  <!-- controller configuration -->
  <rosparam command="load" file="$(arg HRPSYS_GAZEBO_CONFIG)" />

  <!-- setting for using synchronized iob -->
  <param name="/hrpsys_gazebo_configuration/use_synchronized_command"
         value="$(arg SYNCHRONIZED)" />

  <!-- Robot Description -->
  <param name="robot_description" textfile="$(arg ROBOT_MODEL)"/>
  <node name="robot_state_publisher" pkg="robot_state_publisher" type="state_publisher" />
</launch>
