from utils import *
from numpy import *

poses = {
    'init' : array([0,0,0,
                    -0.010463, 0.0, -1.745329, 0.265277, 0.164054, 0.055845,
                    0.010463, 0.0, -1.745329, -0.265277, 0.164054, -0.055845,
                    0.015708, -0.010472, -0.010472, 0.006981,
                    0.015708, -0.010472, -0.010472, 0.006981]),
    'prepare_right' : array([0.25, -0.4, 1.1,
                             -0.4, -0.3, -2.1, 0.286, 0.486, 0.695,
                             0.010, 0.000, -1.745, -0.265, 0.164, -0.056,
                             0, 0, 0, 0,
                             0, 0, 0, 0]),
    'prepare' : [0, 0, 1.1,
                 -0.4, -0.3, -2.1, 0.286, 0.486, 0.695,
                 0.4, -0.3, -2.1, -0.286, 0.486, -0.695,
                 0.8, -0.1, -0.8, 0.1,
                 0.8, -0.1, -0.8, 0.1]
    }

hand_poses = {
    'open' : array([0.6, -0.1, -0.6, 0.1]),
    'open2' : array([0.8, -0.1, -0.8, 0.1]),
    'close' : array([0.4, -0.4, -0.4, 0.4]),
    'close2' : array([0.3,-0.3, -0.3, 0.3]),
    'push' : array([-pi/6,2*pi/3+0.1,pi/6,-2*pi/3+0.1])
    }

# hand-tuned 1
# Thd_leye = FRAME(mat=MATRIX(b=pi/2)*MATRIX(c=-pi/2)*MATRIX(b=-0.15),
#                       vec=VECTOR(vec=[0,70,100]))

# hand-tuned 2
# Thd_leye = FRAME(mat=MATRIX(b=pi/2)*MATRIX(c=-pi/2)*MATRIX(a=0.07)*MATRIX(c=0.04),
#                       vec=VECTOR(vec=[20,40,100]))

# optimized 1
# Thd_leye = FRAME(mat=MATRIX(mat=[[0.0049090094822147384, 0.071152319695960559, 0.99745338188197419],
#                                      [-0.99813078629363705, -0.060414313982505546, 0.0092219368285120697],
#                                      [0.060916623993367794, -0.99563419892443794, 0.070722746364543732]]),
#                      vec=VECTOR(vec=[19.142112300000001, 45.1125677, 133.16580300000001]))

# optimized 2
# Thd_leye = FRAME(mat=MATRIX(mat=[[0.017767635325782807, 0.099516532518872089, 0.99487726423431255], [-0.99956785261257974, -0.021537774754823713, 0.020005806209358785], [0.023418350889973794, -0.99480278649289611, 0.099090851381766376]]),
#                      vec=VECTOR(vec=[30.173057020000002, 76.776618470000003, 106.89223498]))

# optimized 3
Thd_leye = FRAME(mat=[[0.029886433477364114, 0.1237647407291818, 0.99186142683655232],
                      [-0.99948379941446497, -0.0080013424730153715, 0.03111451794026393],
                      [0.011787103207683197, -0.99227932935785168, 0.12346172170799942]],
                 vec=[31.697510479999998, 69.490635819999994, 90.783463150000003])

# hand-tuned
# Trh_cam = FRAME(xyzabc=[-70,2,-40,-pi/2,-(pi/2-0.03),0]) # HIRO_110219
Trh_cam = FRAME(xyzabc=[-30,2,-40,-pi/2,-(pi/2-0.03),0]) # HIRO_110603

Thd_kinectrgb = FRAME(mat=[[-1.1117269199954012e-06, -0.0012823607936395445, 0.99999917777444147],
                           [-0.99999863374434517, 0.0016530300743643547, 1.008056385829424e-06],
                           [-0.0016530300078927654, -0.9999978115187893, -0.0012823608793248919]],
                      vec=[-28.74092948502755, 1.6231065841821675, 202.52593003532405])

# self.Thd_kinectdepth = FRAME(mat=[[-1.1117269199954012e-06, -0.0012823607936395445, 0.99999917777444147],
#                                   [-0.99999863374434517, 0.0016530300743643547, 1.008056385829424e-06],
#                                   [-0.0016530300078927654, -0.9999978115187893, -0.0012823608793248919]],
#                              vec=[-28.74092948502755, 1.6231065841821675, 202.52593003532405+25])

Thd_kinectdepth = FRAME(xyzabc=[-28.74092948502755, 1.6231065841821675, 202.52593003532405, -pi/2,pi/2,0])*FRAME(xyzabc=[0,0,0,0.05,0,0])


Twrist_ef = FRAME(xyzabc=[-97,0,0,0,pi/2,0])


# prepare+grasp
wp1 = [0.25, -0.40000000000000002, 1.1000000000000001, -0.40000000000000002, -0.29999999999999999, -2.1000000000000001, 0.28599999999999998, 0.48599999999999999, 0.69499999999999995, 0.01, 0.0, -1.7450000000000001, -0.26500000000000001, 0.16400000000000001, -0.056000000000000001, 0.1, -0.6, -0.1, 0.6, 0.0, 0.0, 0.0, 0.0]
# strech+grasp
wp2 = [0.0, 0.0, 0.0, -0.2400590531732, -0.694204583696023, -1.0717643944820141, 0.255615350425554, 0.12563090616832101, 0.28155690155309199, 0.010463, 0.0, -1.7453289999999999, -0.26527699999999999, 0.16405400000000001, -0.055844999999999999, 0.1, -0.6, -0.1, 0.6, 0.0, 0.0, 0.0, 0.0]
# place+grasp
wp3 = [0.0, 0.0, 0.0, -0.254749852962741, -0.70145717307246602, -0.97202663821870605, 0.25270479076588498, 0.032464062551240999, 0.27234480166610903, 0.010463, 0.0, -1.7453289999999999, -0.26527699999999999, 0.16405400000000001, -0.055844999999999999, 0.1, -0.6, -0.1, 0.6, 0.0, 0.0, 0.0, 0.0]
# strech+release
wp4 = [0.0, 0.0, 0.0, -0.2400590531732, -0.694204583696023, -1.0717643944820141, 0.255615350425554, 0.12563090616832101, 0.28155690155309199, 0.010463, 0.0, -1.7453289999999999, -0.26527699999999999, 0.16405400000000001, -0.055844999999999999, 0.80000000000000004, 0.40000000000000002, -0.40000000000000002, -0.80000000000000004, 0.015708, -0.010472, -0.010472, 0.0069810000000000002]
# wp1 => wp2 => wp3 => release() => wp4 => prepare


Tikoffset = FRAME(xyzabc=[-50,0,0,0,-pi/2,0])

stretch_right_pose = [0.39999673963362542,
                      -0.3999701506333021,
                      1.0999683929116937,
                      -0.107270476244069,
                      -0.48906554748395897,
                      -1.890599964075089,
                      0.30034643927392801,
                      0.77749192966727798,
                      -0.17959889213712801,
                      0.0099832833214075645,
                      0.0,
                      -1.7449976394364506,
                      -0.26498055477880189,
                      0.16399277276356095,
                      -0.055982450484027418,
                      0.86044730345276399,
                      -0.21816615760326385,
                      -0.97738440434006257,
                      0.32812190055847168,
                      -0.066322489580835864,
                      -0.013962633907794952,
                      -0.17802353302506013,
                      0.0034906584769487381]

calib_pose = [0.39999673963362542,
              -0.3999701506333021,
              1.0999683929116937,
              -0.096914448736286005,
              -0.47692500098673601,
              -1.8914487090855441,
              0.35610089567855402,
              0.73932363309150695,
              -0.054123107006052003,
              0.0099832833214075645,
              0.0,
              -1.7449976394364506,
              -0.26498055477880189,
              0.16399277276356095,
              -0.055982450484027418,
              0.86044730345276399,
              -0.21816615760326385,
              -0.97738440434006257,
              0.32812190055847168,
              -0.066322489580835864,
              -0.013962633907794952,
              -0.17802353302506013,
              0.0034906584769487381]

